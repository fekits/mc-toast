"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var amEnd=function(){var t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var i in t)if("string"==typeof t[i])return t[i]}(),McToast=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,i),this.taskId=i.taskId=i.taskId?i.taskId+1:1,this.id=t.id||"mc-toast-"+this.taskId,this.time=t.time||"",this.icon=t.icon||"none",this.theme=t.theme||"aa",this.text=t.text||"",this.status="free"}return _createClass(i,[{key:"anim",value:function(i){var e=this;this.code.setAttribute("data-view",this.status);this.code.addEventListener(amEnd,function t(){"hide"===e.status&&(e.code.remove(),e.status="free"),e.code.removeEventListener(amEnd,t,!1),i&&i()},!1)}},{key:"show",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var e in i)i.hasOwnProperty(e)&&(this[e]=i[e]);if("free"===this.status){if(this.text){var n=document.createElement("div");n.innerHTML='<div id="'+this.id+'" class="mc-toast" data-icon="'+this.icon+'" data-theme="'+this.theme+'"><div class="mc-toast-dim"><div class="mc-toast-content">'+(this.icon?'<p class="mc-toast-icon"><b></b></p>':"")+'<p class="mc-toast-text">'+this.text+"</p></div></div></div>",this.code=n.children[0],document.body.appendChild(this.code),this.status="show",this.anim(function(){i&&i.on&&i.on.show&&i.on.show(t),t.time&&!isNaN(t.time)&&(t.timer=setTimeout(function(){t.hide({on:{hide:function(){i&&i.on&&i.on.hide&&i.on.hide(this)}}})},t.time))})}}else clearTimeout(this.timer),this.hide({on:{hide:function(t){t.show()}}})}},{key:"hide",value:function(t){var i=this;this.status="hide",this.anim(function(){t&&t.on&&t.on.hide&&t.on.hide(i)})}}]),i}();window.fekit?window.fekit.McToast=McToast:window.fekit={McToast:McToast},exports.default=McToast;